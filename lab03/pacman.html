
<!-- You can write all your javascript within `<script>` directly
    within `pacman.html`, or link to an external file `pacman.js`.
    
    You do not need to implement a functional visual game for
    full marks, it is sufficient to _demonstrate_ the proper behaviour
    of your code through "console.log()" like assertions.
    
    Commit these changes and push to [GitHub](https://github.com/). -->

<html>
<head>
    <title>Pacman</title>
</head>

<body >
    <h1>Pacman</h1>
    <button onclick="createGame()" class="button">Start Game</button>
</body>
</html>
    
<script>
var pacman = "C", ghost = "^", fruit = "@", pellet = ".";
var posPacman = 0, posFruit = 0, posGhost = 0;
var size = 0, game, score;

function createGame(n){
    size = n;

    // Initialize Game
    game = new Array(n).fill(pellet);

    posPacman = getRandomNumber(1, n)
    game[posPacman] = pacman;
    posFruit = 0;
    while (n == posPacman){
        posFruit = getRandomNumber(1, n)
    }
    game[posFruit] = fruit;
    posGhost = getRandomNumber(1, n)
    game[posGhost] = ghost + game[posGhost]
    
    // Print game
    console.log(game);
}

function moveLeft(game){
    var nextPos = 0;
    posPacman == 0 ? nextPos = size - 1: nextPos = posPacman - 1

    game[posPacman] = ""
    process(game, nextPos)
    game[nextPos] = pacman
    posPacman = nextPos;

    console.log(game);
}

function moveRight(game){
    var nextPos = 0;
    posPacman == size - 1 ? nextPos = 0: nextPos = posPacman + 1

    game[posPacman] = ""
    process(game, nextPos)
    game[nextPos] = pacman
    posPacman = nextPos;

    console.log(game);
}

function process(game, a){ // process pacman eating pellet, if pacman lands on pellet
    if(game[a] == pellet){
        score += 10;

    }else if(game[a] == fruit){
        score += 100

    }else if(game[a[0]] == ghost){

    }
    

}

function getRandomNumber(low, high){ // inclusive of low and high bounds
    return Math.floor(low + Math.random() * high);
}
</script>
